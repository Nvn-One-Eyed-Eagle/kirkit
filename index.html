<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#0a0e27">
    <meta name="description" content="A cricket scoring and management application">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="CricGame">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'><rect fill='%2310b981' width='192' height='192'/><text x='50%' y='50%' font-size='120' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'>üèè</text></svg>">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%2310b981' width='100' height='100'/><text x='50%' y='50%' font-size='60' font-weight='bold' fill='white' text-anchor='middle' dominant-baseline='middle'>üèè</text></svg>">
    <title>Cricket Showcase</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');
        
        * {
            font-family: 'Inter', -apple-system, system-ui, sans-serif;
        }
        
        .card-transition {
            transition-property: all;
            transition-duration: 500ms;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        html, body {
            width: 100%;
            overflow-x: hidden;
            background: #0a0e27;
        }

        /* Hero gradient background */
        .hero-bg {
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 50%, #0f1629 100%);
            position: relative;
        }

        .hero-bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 30%, rgba(16, 185, 129, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(59, 130, 246, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }

        /* Player card styling */
        .player-card-bg {
            background: linear-gradient(145deg, #1a1f3a 0%, #0f1629 100%);
            border: 2px solid rgba(16, 185, 129, 0.3);
        }

        .player-card-img {
            position: relative;
            overflow: hidden;
        }

        .player-card-img::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 60%;
            background: linear-gradient(to top, rgba(10, 14, 39, 0.9) 0%, transparent 100%);
        }

        .stat-box {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .glass-effect {
            background: rgba(15, 22, 41, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }

        .video-hover {
            transition: all 0.3s ease;
        }

        .video-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(16, 185, 129, 0.3);
        }

        /* Shimmer effect */
        .shimmer {
            position: relative;
            overflow: hidden;
        }

        .shimmer::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        @media (max-height: 750px) {
            .cards-container-height {
                height: 340px !important;
            }
            #cards-container > div {
                max-width: 280px !important;
            }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-[#0a0e27] via-[#1a1f3a] to-[#0f1629] overflow-x-hidden">

    <!-- HERO HEADER -->
    <div class="hero-bg py-8 px-4 relative">
        <div class="max-w-md mx-auto text-center relative z-10">
            <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 shadow-lg shadow-emerald-500/30 mb-4">
                <i data-lucide="trophy" class="text-white w-8 h-8"></i>
            </div>
            <h1 class="text-4xl md:text-5xl font-black text-white mb-2 tracking-tight">
                Cricket Pro
            </h1>
            <p class="text-emerald-400 text-sm font-semibold uppercase tracking-wider">
                Performance Analytics Platform
            </p>
        </div>
    </div>

    <!-- PLAYER CAROUSEL -->
    <div class="py-6 px-4">
        <div class="max-w-md mx-auto -ml-6">
            <div class="flex items-center justify-between mb-4">
                <div class="flex items-center gap-2">
                    <i data-lucide="users" class="text-emerald-400 w-5 h-5"></i>
                    <h2 class="text-base font-bold text-white uppercase tracking-wide">Your Squad</h2>
                </div>
                <div class="text-white/60 text-sm font-medium">
                    <span id="player-count">0</span> Players
                </div>
            </div>
            
            <div class="relative">
                <div id="cards-container" class="relative cards-container-height" style="height: 400px;">
                    <!-- Player cards rendered by JS -->
                </div>

                <button id="prev-btn" class="absolute left-0 top-1/2 -translate-y-1/2 bg-white/10 hover:bg-white/20 backdrop-blur-md p-3 rounded-full border border-white/20 z-40 transition-all active:scale-90 cursor-pointer">
                    <i data-lucide="chevron-left" class="text-white w-6 h-6"></i>
                </button>
                <button id="next-btn" class="absolute right-0 top-1/2 -translate-y-1/2 bg-white/10 hover:bg-white/20 backdrop-blur-md p-3 rounded-full border border-white/20 z-40 transition-all active:scale-90 cursor-pointer">
                    <i data-lucide="chevron-right" class="text-white w-6 h-6"></i>
                </button>

                <div id="dots-container" class="flex justify-center gap-2 mt-5">
                    <!-- Dots rendered by JS -->
                </div>
            </div>
        </div>
    </div>
    <br>

    <!-- HIGHLIGHT REELS -->
    <div class="py-6 px-4 border-t border-white/10">
        <div class="max-w-md mx-auto">
            <div class="flex items-center gap-2 mb-4">
                <i data-lucide="video" class="text-emerald-400 w-5 h-5"></i>
                <h2 class="text-base font-bold text-white uppercase tracking-wide">Match Highlights</h2>
            </div>

            <div class="flex gap-3 mb-4">
                <button id="tab-fours" onclick="switchTab('fours')" 
                    class="flex-1 px-4 py-2.5 rounded-xl font-semibold text-sm transition-all bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-lg shadow-emerald-500/30">
                    <span class="flex items-center justify-center gap-1.5">
                        <span class="text-base">4</span>
                        <span>FOURS</span>
                    </span>
                </button>
                <button id="tab-sixes" onclick="switchTab('sixes')" 
                    class="flex-1 px-4 py-2.5 rounded-xl font-semibold text-sm transition-all glass-effect text-white/70 border border-white/10 hover:bg-white/10">
                    <span class="flex items-center justify-center gap-1.5">
                        <span class="text-base">6</span>
                        <span>SIXES</span>
                    </span>
                </button>
            </div>

            <div id="video-grid" class="grid grid-cols-2 gap-3">
                <!-- Videos rendered by JS -->
            </div>
        </div>
    </div>

    <!-- ADD PLAYER SECTION -->
    <div class="py-6 px-4 border-t border-white/10">
        <div class="max-w-md mx-auto">
            
            <button id="show-add-btn" 
                class="w-full bg-gradient-to-r from-emerald-500 to-emerald-600 text-white py-3.5 rounded-xl font-bold text-sm shadow-lg shadow-emerald-500/30 hover:shadow-xl hover:shadow-emerald-500/40 transition-all active:scale-95 flex items-center justify-center gap-2 border border-emerald-400/30">
                <i data-lucide="user-plus" class="w-5 h-5"></i>
                ADD NEW PLAYER
            </button>

            <div id="add-player-form" class="hidden player-card-bg rounded-xl p-5 shadow-2xl mt-4">
                <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                    <i data-lucide="user-plus" class="w-5 h-5 text-emerald-400"></i>
                    New Player Registration
                </h3>

                <div class="space-y-3">
                    <input type="text" id="inp-name" placeholder="Player Name"
                        class="w-full px-4 py-2.5 rounded-lg bg-white/5 border border-white/10 text-white placeholder-white/40 focus:bg-white/10 outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all">

                    <div class="relative w-full h-36 rounded-lg overflow-hidden bg-black/50 border border-white/10 cursor-pointer" id="camera-box">
                        <video id="camera" autoplay playsinline class="w-full h-full object-cover hidden"></video>
                        <img id="photo-preview" class="w-full h-full object-cover hidden">
                        <div id="camera-text" class="absolute inset-0 flex flex-col items-center justify-center text-white/60 gap-2">
                            <i data-lucide="camera" class="w-8 h-8"></i>
                            <span class="text-sm font-medium">Tap to capture photo</span>
                        </div>
                    </div>

                    <button type="button" id="capture-btn"
                        class="hidden w-full py-2.5 rounded-lg bg-emerald-500 hover:bg-emerald-600 text-white font-semibold transition-all">
                        <span class="flex items-center justify-center gap-2">
                            <i data-lucide="camera" class="w-4 h-4"></i>
                            Capture Photo
                        </span>
                    </button>
                </div>

                <div class="flex gap-3 mt-5">
                    <button id="cancel-add-btn" 
                        class="flex-1 bg-white/5 border border-white/10 text-white py-2.5 rounded-lg font-semibold hover:bg-white/10 transition-all">
                        Cancel
                    </button>
                    <button id="submit-add-btn" 
                        class="flex-1 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white py-2.5 rounded-lg font-semibold shadow-lg shadow-emerald-500/30 hover:shadow-xl hover:shadow-emerald-500/40 transition-all">
                        Add Player
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- START MATCH BUTTON -->
    <div class="py-6 px-4 border-t border-white/10">
        <div class="max-w-md mx-auto">
            <button id="btn" 
                class="w-full shimmer bg-gradient-to-r from-emerald-500 via-emerald-600 to-teal-600 text-white py-5 rounded-xl font-black text-xl shadow-2xl shadow-emerald-500/40 hover:shadow-emerald-500/50 transition-all active:scale-95 hover:scale-[1.02] flex items-center justify-center gap-3 border-2 border-emerald-400/30">
                <i data-lucide="play-circle" class="w-7 h-7"></i>
                START MATCH
            </button>
        </div>
    </div>

    <!-- Video modal -->
    <div id="video-modal" class="fixed inset-0 bg-black/95 backdrop-blur-sm z-50 flex items-center justify-center p-4 hidden" onclick="closeVideoModal()">
        <div class="player-card-bg rounded-xl p-4 max-w-lg w-full shadow-2xl" onclick="event.stopPropagation()">
            <div id="modal-video-wrapper" class="rounded-lg overflow-hidden"></div>
            <button onclick="closeVideoModal()" 
                class="w-full mt-4 bg-red-500 hover:bg-red-600 text-white py-3 rounded-lg font-bold transition-all cursor-pointer flex items-center justify-center gap-2">
                <i data-lucide="x" class="w-5 h-5"></i>
                Close
            </button>
        </div>
    </div>

    <script src="pwa-utils.js"></script>
    <script src="index.js"></script>

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => console.log('SW registered:', reg))
                    .catch(err => console.log('SW registration failed:', err));
            });
        }
    </script>
</body>
</html>